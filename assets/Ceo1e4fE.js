import{i as Ee,r as _,w as ke,a as I,o as Be,b as Me,c as Le,g as U,d as xe,e as He,f as q,h as se,m as be,j as F,k as ne,t as oe,u as W,n as le,l as fe,p as j,q as ie,s as ve,v as L,x as pe,_ as me,y as Ie,z as Oe,A,B as he,C as Re,D as s,E as J,F as Fe,G as ze,H as Ae,I as K,J as Ue,K as ae,L as Ve,U as _e,M as ce,N as De,O as Je,P as Ke,Q as ue,R as je,S as qe,T as We,V as Xe,W as ye,X as Ye,Y as Ge,Z as Qe,$ as ee,a0 as B,a1 as h,a2 as z,a3 as Ze,a4 as et,a5 as tt,a6 as D,a7 as at,a8 as st,a9 as nt}from"./app-Ba0Wni1V.js";import{u as ot}from"./BMxItHY2.js";function lt(e,a={}){const i=a.head||Ee();if(i)return i.ssr?i.push(e,a):it(i,e,a)}function it(e,a,i={}){const T=_(!1),l=_({});ke(()=>{l.value=T.value?{}:xe(a)});const t=e.push(l.value,i);return I(l,$=>{t.patch($)}),U()&&(Be(()=>{t.dispose()}),Me(()=>{T.value=!0}),Le(()=>{T.value=!1})),t}const H=e=>He(e),X=Symbol("tabsRootContextKey"),rt=q({tabs:{type:se(Array),default:()=>be([])}}),ge="ElTabBar",ct=F({name:ge}),ut=F({...ct,props:rt,setup(e,{expose:a}){const i=e,T=U(),l=ne(X);l||oe(ge,"<el-tabs><el-tab-bar /></el-tabs>");const t=W("tabs"),y=_(),$=_(),d=()=>{let r=0,v=0;const f=["top","bottom"].includes(l.props.tabPosition)?"width":"height",c=f==="width"?"x":"y",x=c==="x"?"left":"top";return i.tabs.every(k=>{var n,C;const N=(C=(n=T.parent)==null?void 0:n.refs)==null?void 0:C[`tab-${k.uid}`];if(!N)return!1;if(!k.active)return!0;r=N[`offset${H(x)}`],v=N[`client${H(f)}`];const E=window.getComputedStyle(N);return f==="width"&&(v-=Number.parseFloat(E.paddingLeft)+Number.parseFloat(E.paddingRight),r+=Number.parseFloat(E.paddingLeft)),!1}),{[f]:`${v}px`,transform:`translate${H(c)}(${r}px)`}},p=()=>$.value=d();return I(()=>i.tabs,async()=>{await le(),p()},{immediate:!0}),fe(y,()=>p()),a({ref:y,update:p}),(r,v)=>(j(),ie("div",{ref_key:"barRef",ref:y,class:ve([L(t).e("active-bar"),L(t).is(L(l).props.tabPosition)]),style:pe($.value)},null,6))}});var dt=me(ut,[["__file","tab-bar.vue"]]);const bt=q({panes:{type:se(Array),default:()=>be([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),ft={tabClick:(e,a,i)=>i instanceof Event,tabRemove:(e,a)=>a instanceof Event},de="ElTabNav",vt=F({name:de,props:bt,emits:ft,setup(e,{expose:a,emit:i}){const T=U(),l=ne(X);l||oe(de,"<el-tabs><tab-nav /></el-tabs>");const t=W("tabs"),y=Ie(),$=Oe(),d=_(),p=_(),r=_(),v=_(),f=_(!1),c=_(0),x=_(!1),k=_(!0),n=A(()=>["top","bottom"].includes(l.props.tabPosition)?"width":"height"),C=A(()=>({transform:`translate${n.value==="width"?"X":"Y"}(-${c.value}px)`})),N=()=>{if(!d.value)return;const u=d.value[`offset${H(n.value)}`],b=c.value;if(!b)return;const o=b>u?b-u:0;c.value=o},E=()=>{if(!d.value||!p.value)return;const u=p.value[`offset${H(n.value)}`],b=d.value[`offset${H(n.value)}`],o=c.value;if(u-o<=b)return;const P=u-o>b*2?o+b:u-b;c.value=P},O=async()=>{const u=p.value;if(!f.value||!r.value||!d.value||!u)return;await le();const b=r.value.querySelector(".is-active");if(!b)return;const o=d.value,P=["top","bottom"].includes(l.props.tabPosition),w=b.getBoundingClientRect(),g=o.getBoundingClientRect(),M=P?u.offsetWidth-g.width:u.offsetHeight-g.height,S=c.value;let m=S;P?(w.left<g.left&&(m=S-(g.left-w.left)),w.right>g.right&&(m=S+w.right-g.right)):(w.top<g.top&&(m=S-(g.top-w.top)),w.bottom>g.bottom&&(m=S+(w.bottom-g.bottom))),m=Math.max(m,0),c.value=Math.min(m,M)},V=()=>{var u;if(!p.value||!d.value)return;e.stretch&&((u=v.value)==null||u.update());const b=p.value[`offset${H(n.value)}`],o=d.value[`offset${H(n.value)}`],P=c.value;o<b?(f.value=f.value||{},f.value.prev=P,f.value.next=P+o<b,b-P<o&&(c.value=b-o)):(f.value=!1,P>0&&(c.value=0))},we=u=>{const b=u.code,{up:o,down:P,left:w,right:g}=K;if(![o,P,w,g].includes(b))return;const M=Array.from(u.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),S=M.indexOf(u.target);let m;b===w||b===o?S===0?m=M.length-1:m=S-1:S<M.length-1?m=S+1:m=0,M[m].focus({preventScroll:!0}),M[m].click(),re()},re=()=>{k.value&&(x.value=!0)},Y=()=>x.value=!1;return I(y,u=>{u==="hidden"?k.value=!1:u==="visible"&&setTimeout(()=>k.value=!0,50)}),I($,u=>{u?setTimeout(()=>k.value=!0,50):k.value=!1}),fe(r,V),he(()=>setTimeout(()=>O(),0)),Re(()=>V()),a({scrollToActiveTab:O,removeFocus:Y}),I(()=>e.panes,()=>T.update(),{flush:"post",deep:!0}),()=>{const u=f.value?[s("span",{class:[t.e("nav-prev"),t.is("disabled",!f.value.prev)],onClick:N},[s(J,null,{default:()=>[s(Fe,null,null)]})]),s("span",{class:[t.e("nav-next"),t.is("disabled",!f.value.next)],onClick:E},[s(J,null,{default:()=>[s(ze,null,null)]})])]:null,b=e.panes.map((o,P)=>{var w,g,M,S;const m=o.uid,G=o.props.disabled,Q=(g=(w=o.props.name)!=null?w:o.index)!=null?g:`${P}`,Z=!G&&(o.isClosable||e.editable);o.index=`${P}`;const Se=Z?s(J,{class:"is-icon-close",onClick:R=>i("tabRemove",o,R)},{default:()=>[s(Ae,null,null)]}):null,$e=((S=(M=o.slots).label)==null?void 0:S.call(M))||o.props.label,Ce=!G&&o.active?0:-1;return s("div",{ref:`tab-${m}`,class:[t.e("item"),t.is(l.props.tabPosition),t.is("active",o.active),t.is("disabled",G),t.is("closable",Z),t.is("focus",x.value)],id:`tab-${Q}`,key:`tab-${m}`,"aria-controls":`pane-${Q}`,role:"tab","aria-selected":o.active,tabindex:Ce,onFocus:()=>re(),onBlur:()=>Y(),onClick:R=>{Y(),i("tabClick",o,Q,R)},onKeydown:R=>{Z&&(R.code===K.delete||R.code===K.backspace)&&i("tabRemove",o,R)}},[$e,Se])});return s("div",{ref:r,class:[t.e("nav-wrap"),t.is("scrollable",!!f.value),t.is(l.props.tabPosition)]},[u,s("div",{class:t.e("nav-scroll"),ref:d},[s("div",{class:[t.e("nav"),t.is(l.props.tabPosition),t.is("stretch",e.stretch&&["top","bottom"].includes(l.props.tabPosition))],ref:p,style:C.value,role:"tablist",onKeydown:we},[e.type?null:s(dt,{ref:v,tabs:[...e.panes]},null),b])])])}}}),pt=q({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:se(Function),default:()=>!0},stretch:Boolean}),te=e=>De(e)||Je(e),mt={[_e]:e=>te(e),tabClick:(e,a)=>a instanceof Event,tabChange:e=>te(e),edit:(e,a)=>["remove","add"].includes(a),tabRemove:e=>te(e),tabAdd:()=>!0},ht=F({name:"ElTabs",props:pt,emits:mt,setup(e,{emit:a,slots:i,expose:T}){var l;const t=W("tabs"),y=A(()=>["left","right"].includes(e.tabPosition)),{children:$,addChild:d,removeChild:p}=ot(U(),"ElTabPane"),r=_(),v=_((l=e.modelValue)!=null?l:"0"),f=async(n,C=!1)=>{var N,E,O;if(!(v.value===n||ce(n)))try{await((N=e.beforeLeave)==null?void 0:N.call(e,n,v.value))!==!1&&(v.value=n,C&&(a(_e,n),a("tabChange",n)),(O=(E=r.value)==null?void 0:E.removeFocus)==null||O.call(E))}catch{}},c=(n,C,N)=>{n.props.disabled||(f(C,!0),a("tabClick",n,N))},x=(n,C)=>{n.props.disabled||ce(n.props.name)||(C.stopPropagation(),a("edit",n.props.name,"remove"),a("tabRemove",n.props.name))},k=()=>{a("edit",void 0,"add"),a("tabAdd")};return I(()=>e.modelValue,n=>f(n)),I(v,async()=>{var n;await le(),(n=r.value)==null||n.scrollToActiveTab()}),Ue(X,{props:e,currentName:v,registerPane:d,unregisterPane:p}),T({currentName:v}),()=>{const n=i["add-icon"],C=e.editable||e.addable?s("div",{class:[t.e("new-tab"),y.value&&t.e("new-tab-vertical")],tabindex:"0",onClick:k,onKeydown:O=>{O.code===K.enter&&k()}},[n?ae(i,"add-icon"):s(J,{class:t.is("icon-plus")},{default:()=>[s(Ve,null,null)]})]):null,N=s("div",{class:[t.e("header"),y.value&&t.e("header-vertical"),t.is(e.tabPosition)]},[s(vt,{ref:r,currentName:v.value,editable:e.editable,type:e.type,panes:$.value,stretch:e.stretch,onTabClick:c,onTabRemove:x},null),C]),E=s("div",{class:t.e("content")},[ae(i,"default")]);return s("div",{class:[t.b(),t.m(e.tabPosition),{[t.m("card")]:e.type==="card",[t.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[N,E]:[E,N]])}}}),_t=q({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),yt=["id","aria-hidden","aria-labelledby"],Te="ElTabPane",gt=F({name:Te}),Tt=F({...gt,props:_t,setup(e){const a=e,i=U(),T=Ke(),l=ne(X);l||oe(Te,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const t=W("tab-pane"),y=_(),$=A(()=>a.closable||l.props.closable),d=ue(()=>{var c;return l.currentName.value===((c=a.name)!=null?c:y.value)}),p=_(d.value),r=A(()=>{var c;return(c=a.name)!=null?c:y.value}),v=ue(()=>!a.lazy||p.value||d.value);I(d,c=>{c&&(p.value=!0)});const f=je({uid:i.uid,slots:T,props:a,paneName:r,active:d,index:y,isClosable:$});return he(()=>{l.registerPane(f)}),qe(()=>{l.unregisterPane(f.uid)}),(c,x)=>L(v)?We((j(),ie("div",{key:0,id:`pane-${L(r)}`,class:ve(L(t).b()),role:"tabpanel","aria-hidden":!L(d),"aria-labelledby":`tab-${L(r)}`},[ae(c.$slots,"default")],10,yt)),[[Xe,L(d)]]):ye("v-if",!0)}});var Ne=me(Tt,[["__file","tab-pane.vue"]]);const Nt=Ye(ht,{TabPane:Ne}),Pt=Ge(Ne),wt=F({props:{type:String},setup(e){const a=et(),i=tt(),T=["INTJ","INTP","ENTJ","ENTP","INFJ","INFP","ENFJ","ENFP","ISTJ","ISFJ","ESTJ","ESFJ","ISTP","ISFP","ESTP","ESFP"],l=a.params.type||e.type||"";if(!T.includes(l.toUpperCase())){i.push("/404");return}lt({title:(l?l.toUpperCase()+" | ":"")+"MBTI | 性格测试 | 十六人格"})},data(){return{background:"#fff",tabPosition:"",template:{type:"",title:"",group:"",motto:"",describe:"",article:"",photo:{desktop:"",mobile:""}},scene:{"strengths-and-weaknesses":"","relationships-dating":"",friends:"",parents:"",careers:"","at-work":"",conclusion:""}}},async created(){const e=this.$route.params.type||this.$props.type||"";if(D.template[e]){{const{default:a}=await D.template[e](),{default:i}=await D.scene[e]();this.template=a,this.scene=i}this.background=D.color[this.template.group],this.tabPosition=window.matchMedia("(max-width: 768px)").matches?"top":"right"}}}),Pe=e=>(st("data-v-e26d0c9e"),e=e(),nt(),e),St={class:"content"},$t=Pe(()=>h("div",{class:"type-img"},null,-1)),Ct=Pe(()=>h("div",{class:"clear"},null,-1)),Et={class:"article mbti-container"},kt=["innerHTML"],Bt=["innerHTML"],Mt=["innerHTML"],Lt=["innerHTML"],xt=["innerHTML"],Ht=["innerHTML"],It=["innerHTML"],Ot=["innerHTML"];function Rt(e,a,i,T,l,t){const y=ee("ui-header"),$=ee("ui-container"),d=at,p=ee("client-only"),r=Pt,v=Nt;return j(),ie("main",null,[s(y),s($,{class:"container",background:e.background},{content:B(()=>[h("div",St,[h("div",{class:"type-info",style:pe({background:e.background})},[h("h1",null,z(e.template.title.split("-").pop()),1),h("h3",null,z(e.template.type.toUpperCase())+"性格-"+z(e.template.type[0])+"人",1),h("p",null,z(e.template.describe),1)],4),$t,Ct])]),_:1},8,["background"]),s(p,null,{default:B(()=>[s(d,{"data-ad-client":"ca-pub-7002319867557344","data-ad-slot":"1527641688","data-ad-format":"auto","data-full-width-responsive":"true"})]),_:1}),h("div",Et,[h("h1",null,z(e.template.title.split("-").pop()),1),e.tabPosition?(j(),Ze(v,{key:0,"tab-position":e.tabPosition,class:"tabs"},{default:B(()=>[s(r,{label:"性格概述"},{default:B(()=>[h("div",{class:"text mbti-template",innerHTML:e.template.article},null,8,kt)]),_:1}),s(r,{label:"优势 & 劣势"},{default:B(()=>[h("div",{class:"text mbti-template",innerHTML:e.scene["strengths-and-weaknesses"]},null,8,Bt)]),_:1}),s(r,{label:"恋爱关系"},{default:B(()=>[h("div",{class:"text mbti-template",innerHTML:e.scene["relationships-dating"]},null,8,Mt)]),_:1}),s(r,{label:"友谊"},{default:B(()=>[h("div",{class:"text mbti-template",innerHTML:e.scene.friends},null,8,Lt)]),_:1}),s(r,{label:"为人父母"},{default:B(()=>[h("div",{class:"text mbti-template",innerHTML:e.scene.parents},null,8,xt)]),_:1}),s(r,{label:"职业道路"},{default:B(()=>[h("div",{class:"text mbti-template",innerHTML:e.scene.careers},null,8,Ht)]),_:1}),s(r,{label:"职场习惯"},{default:B(()=>[h("div",{class:"text mbti-template",innerHTML:e.scene["at-work"]},null,8,It)]),_:1}),s(r,{label:"性格总结"},{default:B(()=>[h("div",{class:"text mbti-template",innerHTML:e.scene.conclusion},null,8,Ot)]),_:1})]),_:1},8,["tab-position"])):ye("",!0)])])}const At=Qe(wt,[["render",Rt],["__scopeId","data-v-e26d0c9e"]]);export{At as default};
